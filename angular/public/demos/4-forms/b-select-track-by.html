<!DOCTYPE html>
<!-- The ng-app is related to a module -->
<html ng-app="demo">
<head>
    <title>Select</title>
    <link rel="stylesheet" type="text/css" href="../styles.css"/>
    <script type="text/javascript" src="../libs/angular.min.js"></script>
    <script type="text/javascript" src="../mock-data.js"></script>


</head>
<!-- The controller is found in the spotted module -->
<body ng-controller="AppCtrl">

<div>

    <h2>Preselecting option </h2>
    <p><select ng-model="model.selectedUser" ng-options="user.name for user in users"></select>

    </p>

    <p>I have chosen : {{model.selectedUser.name}} ({{model.selectedUser.id}})</p>


</div>


</body>

<script type="text/javascript">

    /**
     * TODO : thought displayed, Rajesh is not correctly selected in the Select Box
     * Use track by to select it correctly
     */
    angular.module("demo", [])
            .controller("AppCtrl", function ($scope) {


                $scope.users = globals.users;
                // let's say copy come from another area of the program
                var preselected = angular.copy(globals.users[3]);
                $scope.model = {
                    selectedUser: preselected
                }

            });


    globals.users = [
        {
            admin: true,
            id: 1,
            email: "nz@robusta.io",
            name: "Nicolas",
            statement: "Star Wars rocks"
        },
        {
            admin: true,
            id: 2,
            email: "nz.bis@robusta.io",
            name: "Nicolas",
            statement: "Star Trek rocks"
        },
        {
            admin: false,
            id: 3,
            email: "sheldon@robusta.io",
            name: "Sheldon"
        },
        {
            admin: false,
            id: 4,
            email: "raj@robusta.io",
            name: "Rajesh"
        },
        {
            admin: false,
            id: 5,
            email: "howie@robusta.io",
            name: "Howard"
        },
        {
            admin: true,
            id: 6,
            email: "penny@robusta.io",
            name: "Penny",
            statement: "Penny ! Penny ! Penny !"
        },
        {
            admin: false,
            id: 7,
            email: "emy@robusta.io",
            name: "Emy"
        },
        {
            admin: false,
            id: 28,
            email: "bernie@robusta.io",
            name: "Bernadette"
        }
    ];
</script>
</html>